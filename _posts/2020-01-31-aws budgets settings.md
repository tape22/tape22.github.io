---
layout: post
title: "[AWS] 과금 없이 안전하게 aws 쓰는 법" 
categories: aws
tags: aws
---

aws는 서버 공부를 하면서 ec2나 rds 등을 사용해야 할 때가 많은데, 프리티어 계정에 대해 자세히 모르고 이용하다보면 과금이 많이 나는 경우가 있다.

예를 들어 모르고 rds를 기본으로 만들었다가 한 달 조금 넘겨서 120만원이 과금이 난 사람도 있다. 학생이라 몰랐고 큰 돈을 내기 어렵다고 여러번 (빌며) 문의했지만 너무 늦게 연락을 줬다는 이유로 결국 60만원을 낸 케이스였는데, 그 이후로 철저하게 aws에 대해 공부하고 과금 관리를 하고 있다고 한다.

본 포스팅에서는 ec2와 rds 포스팅을 따로 할 것이기 때문에 기본적인 과금 방지 설정에 대해 다루겠다.

## 1\. Budgets 설정하기

먼저 내 계정 대시보드에 들어가보면 budgets라는 항목이 있다.

budgets는 내가 설정한 기간마다 예산을 얼마정도 두고 쓸 것인지 정하고 그 이상 쓴다면 연락이 오도록 하는 서비스이다.

![]({{ site.url }}/assets/budget1.png)

  
예산 유형에는 여러가지가 있는데, 알람을 받고 싶은 조건에 맞게 선택하면 된다.

지금은 과금 비용과 관련된 예산이므로 비용 예산을 선택하고 넘어간다.

![]({{ site.url }}/assets/budget2 .png)

  
  

다른 것은 상황에 맞게 설정하면 되는데, 예산 금액은 0.01 달러로 설정하는 것이 좋다. 주로 1달러로 설정해놓는데, 0.01 달러로 해놓으면 rds 자동 스냅샷으로 인한 미세한 과금까지 알람을 받을 수 있다. 최종 화면에서 다시 비교를 하기로 하고 넘어가겠다.

![]({{ site.url }}/assets/budget3.png)

  
  
  
마지막 단계는 예산 금액이 나의 최소 금액으로 잘 설정 되어있는지 확인하고, 알람 임계값을 100%로 준다. 그러면 설정한 예산 금액인 0.01달러 이상 넘어가면 알람을 받도록 설정이 완료된다. 그리고 이메일 주소에는 알람을 받을 개인 이메일 계정을 적고 다음으로 넘어가 최종적으로 확인한다.

![]({{ site.url }}/assets/budget5.png)

![]({{ site.url }}/assets/budget6.png)

  
  

최종적으로 예산 알람이 설정되었다. 다음 사진을 보면 rds 스냅샷 문제로 프리티어 계정임에도 0.02 달러가 과금이 되었는데, 1달러로 설정해 놓은 budgets에서는 아직 1달러가 초과되지 않았기 때문에 알람을 보내지 않았다. 0.01달러로 설정을 해놔야 예산 대비 과금이 일어나 이러한 미세한 요금이 발생해도 알람을 받고 더 큰 과금을 방지할 수 있다.

![]({{ site.url }}/assets/budget7.png)